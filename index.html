<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Dua Lipa — Fan Page (Radical Optimism & Live from the Royal Albert Hall)</title>
<link rel="icon" href="Dua_Lipa.jpg" type="image/x-icon">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
<style>
/* ---------- RESET ---------- */
*{margin:0;padding:0;box-sizing:border-box}
html,body{height:100%;font-family:"Inter",sans-serif;background:#070809;color:#fff;-webkit-font-smoothing:antialiased;overflow-x:hidden}

/* ---------- LAYOUT ---------- */
.container{max-width:1200px;margin:0 auto;padding:28px}
.header{ display:flex; gap:28px; align-items:center; padding:28px; border-radius:16px; background:linear-gradient(180deg, rgba(10,10,12,0.9), rgba(4,4,6,0.9)); box-shadow:0 12px 40px rgba(0,0,0,0.6); }
.header .hero{ width:220px;height:220px;border-radius:16px;object-fit:cover;flex-shrink:0;box-shadow:0 12px 40px rgba(0,0,0,0.6) }
.header .meta{flex:1;min-width:0}
.header h1{font-size:2rem;margin-bottom:8px}
.header p{color:#d7d7d7;line-height:1.6}

/* CTA */
.cta-row{display:flex;gap:12px;margin-top:14px;flex-wrap:wrap}
.btn{ background:#40E0D0;color:#042b2b;padding:10px 14px;border-radius:10px;border:0;font-weight:700;cursor:pointer;box-shadow:0 8px 24px rgba(0,0,0,0.45); }
.btn.secondary{background:transparent;border:1px solid rgba(255,255,255,0.06);color:#ddd}

/* ---------- ALBUM GRID ---------- */
.albums-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;margin:28px 0}
.card{ background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-radius:14px;padding:0;overflow:hidden;cursor:pointer;transition:transform .18s, box-shadow .18s; box-shadow:0 8px 30px rgba(0,0,0,0.5); }
.card:hover{transform:translateY(-6px)}
.card img{width:100%;height:220px;object-fit:cover;display:block}
.card .card-body{padding:14px}
.card h3{font-size:1.05rem;margin-bottom:8px}
.card p{color:#cfcfcf;font-size:0.95rem;line-height:1.5}

/* ---------- PAGES ---------- */
.album-page{display:none;padding:22px 0 80px}
.album-page.active{display:block;animation:fadeIn .36s ease both}
.back{display:inline-block;margin-bottom:18px;background:#ff6b6b;border:0;padding:10px 14px;border-radius:10px;color:#fff;font-weight:800;cursor:pointer;box-shadow:0 8px 24px rgba(0,0,0,0.45)}
.album-header{display:flex;gap:18px;align-items:center;margin-bottom:18px;flex-wrap:wrap}
.album-header img{width:160px;height:160px;border-radius:12px;object-fit:cover;box-shadow:0 12px 36px rgba(0,0,0,.5)}
.album-header h2{font-size:1.5rem}
.album-desc{color:#d9d9d9;max-width:900px;line-height:1.6;margin-top:6px}

/* tracklist / mini player (common) */
.tracklist{max-width:980px;margin-top:18px;padding:16px;border-radius:12px;background:rgba(255,255,255,0.02);box-shadow:inset 0 1px 0 rgba(255,255,255,0.01)}
.track{display:flex;justify-content:space-between;align-items:center;padding:12px;border-radius:10px;margin-bottom:10px;transition:0.16s;cursor:pointer}
.track:hover{transform:translateY(-4px);background:rgba(255,255,255,0.03)}
.track .num{width:36px;text-align:center;color:#aaa;font-weight:800}
.track .title{font-weight:700;color:#fff;flex:1;padding-left:12px}
.track .duration{color:#aaa;font-weight:700}

/* mini player fixed */
#mini-player{position:fixed;left:12px;right:12px;bottom:12px;background:linear-gradient(90deg,#40E0D0,#0f4f54);padding:12px;border-radius:12px;display:flex;align-items:center;justify-content:space-between;gap:12px;box-shadow:0 12px 36px rgba(0,0,0,.5);display:none;z-index:1500}
.mini-left{display:flex;align-items:center;gap:12px}
.mini-cover{width:66px;height:66px;border-radius:8px;object-fit:cover;box-shadow:0 8px 24px rgba(0,0,0,.4)}
.mini-title{font-weight:800;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:260px}
.mini-controls{display:flex;align-items:center;gap:8px}
.mini-controls button{width:40px;height:40px;border-radius:50%;border:0;background:#042b2b;color:#fff;font-size:18px;cursor:pointer}

/* fullscreen player */
#fullscreen-player{position:fixed;inset:0;display:none;z-index:2000;background:linear-gradient(180deg,rgba(4,12,13,0.95),rgba(2,6,6,0.98));align-items:flex-end;justify-content:flex-end;overflow:hidden}
#fullscreen-player .fs-inner{width:100%;padding:28px;background:linear-gradient(90deg, rgba(64,224,208,0.08), rgba(15,79,84,0.08));border-top-left-radius:18px;border-top-right-radius:18px;box-shadow:0 -12px 60px rgba(0,0,0,0.6)}
.fs-controls{display:flex;align-items:center;gap:12px;justify-content:space-between;flex-wrap:wrap}
.fs-left{display:flex;gap:12px;align-items:center;min-width:0}
.fs-title{font-weight:900;font-size:1.4rem;max-width:60vw;word-break:break-word}
.fs-time{font-weight:800}
.progress-wrap{width:100%;margin-top:12px}
.progress-bar{width:100%;height:12px;background:rgba(255,255,255,0.07);border-radius:10px;overflow:hidden;cursor:pointer}
.progress-fill{height:100%;width:0;background:#40E0D0;border-radius:10px;transition:width .06s linear}

/* video bg */
.bg-video-wrap{position:absolute;inset:0;z-index:0;overflow:hidden}
.bg-video-wrap video{width:100%;height:100%;object-fit:cover;filter:brightness(.4) contrast(.9) saturate(.95)}

/* layout helpers */
.section-title{margin-top:30px;margin-bottom:6px;font-size:1.1rem;color:#e6f8f5}

/* responsive */
@media (max-width:720px){ .header{flex-direction:column;align-items:center;text-align:center;padding:20px} .header .meta{padding:8px 4px} .albums-grid{gap:12px} #fullscreen-player .fs-inner{padding:18px} .fs-title{max-width:100%} }

/* animation */
.fade-in{animation:fadeIn .35s ease both}
@keyframes fadeIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:none}}
</style>
</head>
<body>
<div class="container">
  <!-- ====== HEADER / INTRO ====== -->
  <header class="header">
    <img class="hero" src="Dua_Lipa.jpg" alt="Dua Lipa">
    <div class="meta">
      <h1>Dua Lipa — Fan Page</h1>
      <p>
        Dua Lipa (nar. 22. srpna 1995) je britská zpěvačka a skladatelka známá svým unikátním mixem tanečního popu, disco a moderní elektroniky. Její tvorba kombinuje silné melodie, taneční rytmy a výraznou vizuální estetiku. Níže najdeš dvě kompletní sekce — <strong>Radical Optimism (2024)</strong> a živé <strong>Live from the Royal Albert Hall (2024)</strong> — včetně plných tracklistů (MP3 + MP4), mini přehrávače a fullscreen video přehrávače.
      </p>
      <div class="cta-row">
        <button class="btn" onclick="scrollToAlbums()">Prohlédnout alba</button>
        <button class="btn secondary" onclick="openExternal()">Oficiální web / sociální sítě</button>
      </div>
    </div>
  </header>

  <!-- ====== ALBUMS MENU ====== -->
  <section id="albums" class="albums-grid">
    <article class="card" onclick="openAlbum('radical')">
      <img src="radical_optimism.jpg" alt="Radical Optimism">
      <div class="card-body">
        <h3>Radical Optimism</h3>
        <p>Třetí studiové album Dua Lipy (vydáno 3. května 2024). Moderní retro-disco, mořská estetika a silné osobní texty.</p>
      </div>
    </article>

    <article class="card" onclick="openAlbum('live')">
      <img src="Live_from_the_Royal_Albert_Hall.jfif" alt="Live from the Royal Albert Hall">
      <div class="card-body">
        <h3>Live from the Royal Albert Hall</h3>
        <p>Živé album nahrané 27. října 2024 — koncertní záznam s bohatými orchestrálními aranžemi.</p>
      </div>
    </article>
  </section>

  <!-- ====== RADICAL OPTIMISM PAGE ====== -->
  <section id="page-radical" class="album-page">
    <button class="back" onclick="closeAlbum()">← Zpět</button>
    <div class="album-header">
      <img src="radical_optimism.jpg" alt="Radical Optimism">
      <div>
        <h2>Radical Optimism (2024)</h2>
        <div class="album-desc">
          <p>
            Radical Optimism je třetí studiové album Dua Lipy vydané 3. května 2024.
            Projekt navazuje na retro-disco atmosféru, ale s moderním nádechem a svěžím zvukem.
            Album se zabývá osobním růstem, sebevědomím a emocemi, které přicházejí se ztrátami i vítězstvími.
            Vizuálně i zvukově odráží mořskou symboliku — představuje klid, sílu a vyrovnanost.
          </p>
        </div>
      </div>
    </div>

    <div class="section-title">Tracklist (Radical Optimism)</div>
    <div class="tracklist" id="tracklist-radical"></div>
  </section>

  <!-- ====== LIVE FROM THE ROYAL ALBERT HALL PAGE ====== -->
  <section id="page-live" class="album-page">
    <button class="back" onclick="closeAlbum()">← Zpět</button>
    <div class="album-header">
      <img src="Live_from_the_Royal_Albert_Hall.jfif" alt="Live from the Royal Albert Hall">
      <div>
        <h2>Live from the Royal Albert Hall (2024)</h2>
        <div class="album-desc">
          <p>
            Live from the Royal Albert Hall je živé nahrávka Dua Lipy z 27. října 2024. Koncert nabízí energická vystoupení,
            orchestrální aranže a intimní koncertní atmosféru. Níže najdeš celý koncertní set s MP3 a přidruženými MP4 videi.
          </p>
        </div>
      </div>
    </div>

    <div class="section-title">Tracklist (Live from the Royal Albert Hall)</div>
    <div class="tracklist" id="tracklist-live"></div>
  </section>

</div>

<!-- MINI PLAYER (global) -->
<div id="mini-player" aria-hidden="true">
  <div class="mini-left">
    <img id="mini-cover" class="mini-cover" src="radical_optimism.jpg" alt="cover">
    <div>
      <div id="mini-title" class="mini-title">—</div>
      <div id="mini-time" style="color:#eafafa;font-weight:700">0:00 / 0:00</div>
    </div>
  </div>
  <div class="mini-controls">
    <button id="mini-prev">⏮</button>
    <button id="mini-play">▶</button>
    <button id="mini-next">⏭</button>
    <button id="mini-expand">⬆</button>
  </div>
</div>

<!-- FULLSCREEN PLAYER -->
<div id="fullscreen-player" aria-hidden="true">
  <div class="bg-video-wrap"><video id="bg-video" autoplay muted loop playsinline></video></div>
  <div class="fs-inner">
    <div class="fs-controls">
      <div class="fs-left">
        <div style="width:72px;height:72px;background:#000;border-radius:10px;margin-right:12px;overflow:hidden">
          <img id="fs-cover" src="radical_optimism.jpg" alt="cover" style="width:100%;height:100%;object-fit:cover">
        </div>
        <div>
          <div id="fs-title" class="fs-title">—</div>
          <div id="fs-sub" style="color:#cfcfcf;font-weight:600;margin-top:6px">Album</div>
        </div>
      </div>

      <div style="display:flex;align-items:center;gap:12px">
        <div id="time-big" class="fs-time">0:00 / 0:00</div>
        <div class="controls">
          <button id="prev-btn" class="btn">⏮</button>
          <button id="play-btn" class="btn">▶</button>
          <button id="next-btn" class="btn">⏭</button>
        </div>
      </div>
    </div>

    <div class="progress-wrap">
      <div id="progress-bar" class="progress-bar">
        <div id="progress-fill" class="progress-fill"></div>
      </div>
    </div>

    <div style="display:flex;justify-content:flex-end;margin-top:10px;gap:10px">
      <button id="close-full" class="back" style="background:#999;color:#041">Zavřít</button>
    </div>
  </div>
</div>

<!-- Hidden media elements used by JS -->
<!-- Audio element for MP3 playback -->
<audio id="global-audio" preload="metadata"></audio>
<!-- Hidden video element used for fullscreen background video (MP4) -->
<video id="hidden-video" style="display:none"></video>

<script>
/* ---------- DATA: oba tracklisty (MP3 + MP4) ---------- */
const albumRadical = [
  {num:1,title:"End Of An Era",mp3:"mech.mp3",mp4:"a82x20.mp4",duration:"3:15"},
  {num:2,title:"Houdini",mp3:"kouzelník.mp3",mp4:"a82xf4.mp4",duration:"3:08"},
  {num:3,title:"Training Season",mp3:"60m.mp3",mp4:"a82xvv.mp4",duration:"3:46"},
  {num:4,title:"These Walls",mp3:"zeď.mp3",mp4:"a82xxp.mp4",duration:"3:37"},
  {num:5,title:"Whatcha Doing",mp3:"Co.mp3",mp4:"a82ywb.mp4",duration:"3:17"},
  {num:6,title:"French Exit",mp3:"Francosisch.mp3",mp4:"a82yxv.mp4",duration:"3:21"},
  {num:7,title:"Illusion",mp3:"Iluze.mp3",mp4:"a82zdu.mp4",duration:"3:09"},
  {num:8,title:"Falling Forever",mp3:"Padat.mp3",mp4:"a82zjs.mp4",duration:"3:42"},
  {num:9,title:"Anything For Love",mp3:"Láska.mp3",mp4:"a82zlw.mp4",duration:"2:21"},
  {num:10,title:"Maria",mp3:"Marie.mp3",mp4:"a82zxw.mp4",duration:"3:07"},
  {num:11,title:"Happy For You",mp3:"Pro tebe.mp3",mp4:"a83003.mp4",duration:"4:04"}
];

const albumLive = [
  {num:1,title:"Overture (Live from the Royal Albert Hall)",mp3:"uvod.mp3",mp4:"a892zo.mp4",duration:"1:47"},
  {num:2,title:"End Of An Era (Live from the Royal Albert Hall)",mp3:"era.mp3",mp4:"a8947k.mp4",duration:"4:00"},
  {num:3,title:"Houdini (Live from the Royal Albert Hall)",mp3:"kuzelnik.mp3",mp4:"a88wpd.mp4",duration:"3:37"},
  {num:4,title:"Training Season (Live from the Royal Albert Hall)",mp3:"100m.mp3",mp4:"a88y8r.mp4",duration:"3:41"},
  {num:5,title:"These Walls (Live from the Royal Albert Hall)",mp3:"zdi.mp3",mp4:"a89cke.mp4",duration:"3:51"},
  {num:6,title:"Whatcha Doing (Live from the Royal Albert Hall)",mp3:"what.mp3",mp4:"breakheart.mp4",duration:"3:59"},
  {num:7,title:"French Exit (Live from the Royal Albert Hall)",mp3:"francois.mp3",mp4:"dontstart.mp4",duration:"3:46"},
  {num:8,title:"Illusion (Live from the Royal Albert Hall)",mp3:"illuze.mp3",mp4:"a89isb.mp4",duration:"3:58"},
  {num:9,title:"Falling Forever (Live from the Royal Albert Hall)",mp3:"navždy.mp3",mp4:"idgaf.mp4",duration:"4:01"},
  {num:10,title:"Anything For Love (Live from the Royal Albert Hall)",mp3:"pro.mp3",mp4:"hotter.mp4",duration:"3:10"},
  {num:11,title:"Maria (Live from the Royal Albert Hall)",mp3:"babi.mp3",mp4:"a89ovs.mp4",duration:"3:46"},
  {num:12,title:"Happy For You (Live from the Royal Albert Hall)",mp3:"tebe.mp3",mp4:"blowyourmind.mp4",duration:"4:24"},
  {num:13,title:"Love Again (Live from the Royal Albert Hall)",mp3:"znovu.mp3",mp4:"a8d9nu.mp4",duration:"6:03"},
  {num:14,title:"Pretty Please (Live from the Royal Albert Hall)",mp3:"prosím.mp3",mp4:"blowyourmind.mp4",duration:"3:26"},
  {num:15,title:"Levitating (Live from the Royal Albert Hall)",mp3:"levitovat.mp3",mp4:"blowyourmind.mp4",duration:"4:25"},
  {num:16,title:"Sunshine (Live from the Royal Albert Hall)",mp3:"slunce.mp3",mp4:"blowyourmind.mp4",duration:"4:43"},
  {num:17,title:"Cold Heart (featuring: Elton John) (Live from the Royal Albert Hall)",mp3:"srdce.mp3",mp4:"blowyourmind.mp4",duration:"5:29"},
  {num:18,title:"Be The One (Live from the Royal Albert Hall)",mp3:"pravý.mp3",mp4:"pravý.mp4",duration:"4:50"},
  {num:19,title:"Dance The Night (Live from the Royal Albert Hall)",mp3:"barbie.mp3",mp4:"barbie.mp4",duration:"4:08"},
  {num:20,title:"Don’t Start Now (Live from the Royal Albert Hall)",mp3:"teď.mp3",mp4:"teď.mp4",duration:"4:26"}
];

/* ---------- RENDER TRACKLISTS ---------- */
function renderTracklist(list, containerId, albumKey){
  const container = document.getElementById(containerId);
  container.innerHTML = "";
  list.forEach((t, idx) => {
    const div = document.createElement("div");
    div.className = "track fade-in";
    div.dataset.index = idx;
    div.dataset.album = albumKey;
    div.innerHTML = `<div style="display:flex;align-items:center;gap:8px">
        <div class="num">${t.num}</div>
        <div class="title">${t.title}</div>
      </div>
      <div class="duration">${t.duration}</div>`;
    div.addEventListener("click", () => apiPlay(albumKey, idx));
    container.appendChild(div);
  });
}
renderTracklist(albumRadical, "tracklist-radical", "radical");
renderTracklist(albumLive, "tracklist-live", "live");

/* ---------- PLAYER LOGIKA (společná pro obě alba) ---------- */
let currentAlbumKey = null; // "radical" or "live"
let currentIndex = 0;
let isPlaying = false;
const audio = document.getElementById("global-audio");
const hiddenVideo = document.getElementById("hidden-video");
const bgVideo = document.getElementById("bg-video");
const miniPlayer = document.getElementById("mini-player");
const miniTitle = document.getElementById("mini-title");
const miniCover = document.getElementById("mini-cover");
const miniPlay = document.getElementById("mini-play");
const miniPrev = document.getElementById("mini-prev");
const miniNext = document.getElementById("mini-next");
const miniExpand = document.getElementById("mini-expand");
const fsPlayer = document.getElementById("fullscreen-player");
const fsTitle = document.getElementById("fs-title");
const fsCover = document.getElementById("fs-cover");
const playBtn = document.getElementById("play-btn");
const prevBtn = document.getElementById("prev-btn");
const nextBtn = document.getElementById("next-btn");
const timeBig = document.getElementById("time-big");
const progressBar = document.getElementById("progress-bar");
const progressFill = document.getElementById("progress-fill");
const closeFull = document.getElementById("close-full");

const controlsState = {
  shuffle: false,
  repeat: false
};

function getAlbum(key){
  return key === "radical" ? albumRadical : albumLive;
}

function apiPlay(albumKey, idx){
  currentAlbumKey = albumKey;
  currentIndex = idx;
  playCurrent();
}

function playCurrent(){
  const album = getAlbum(currentAlbumKey);
  if(!album || !album[currentIndex]) return;
  const track = album[currentIndex];

  // set audio and video sources
  audio.src = track.mp3;
  // video: set bgVideo src to mp4 (via hiddenVideo to ensure format ready)
  bgVideo.pause();
  bgVideo.src = ""; // reset
  // set background video source to MP4
  bgVideo.src = track.mp4;
  // update UI
  miniPlayer.style.display = "flex";
  miniTitle.textContent = track.title;
  fsTitle.textContent = track.title;
  // set cover image (try jpg replacement)
  const cover = currentAlbumKey === "radical" ? "radical_optimism.jpg" : "Live_from_the_Royal_Albert_Hall.jfif";
  miniCover.src = cover;
  fsCover.src = cover;
  // play audio (some browsers block autoplay until interaction)
  audio.play().then(()=>{ isPlaying = true; updatePlayButtons(); bgVideo.play().catch(()=>{}); }).catch(()=>{ isPlaying = false; updatePlayButtons(); });
  highlightActive();
}

function highlightActive(){
  document.querySelectorAll('.track').forEach(el=>el.classList.remove('active'));
  const selector = `.track[data-album="${currentAlbumKey}"][data-index="${currentIndex}"]`;
  const el = document.querySelector(selector);
  if(el) el.classList.add('active');
}

function playNext(){
  const album = getAlbum(currentAlbumKey);
  if(!album) return;
  if(controlsState.shuffle){
    currentIndex = Math.floor(Math.random()*album.length);
  } else {
    currentIndex = (currentIndex+1)%album.length;
  }
  playCurrent();
}
function playPrev(){
  const album = getAlbum(currentAlbumKey);
  if(!album) return;
  if(controlsState.shuffle){
    currentIndex = Math.floor(Math.random()*album.length);
  } else {
    currentIndex = (currentIndex-1+album.length)%album.length;
  }
  playCurrent();
}

/* ---------- UI hook ups ---------- */
miniPlay.addEventListener("click", togglePlay);
miniPrev.addEventListener("click", ()=>{ playPrev(); });
miniNext.addEventListener("click", ()=>{ playNext(); });
miniExpand.addEventListener("click", ()=>{ fsPlayer.style.display = "flex"; });

if(playBtn){ playBtn.addEventListener("click", togglePlay); }
if(prevBtn){ prevBtn.addEventListener("click", playPrev); }
if(nextBtn){ nextBtn.addEventListener("click", playNext); }
if(closeFull){ closeFull.addEventListener("click", ()=>{ fsPlayer.style.display = "none"; bgVideo.pause(); }); }

/* timeupdate */
audio.addEventListener("timeupdate", ()=>{
  const c = audio.currentTime || 0;
  const d = audio.duration || 0;
  const format = (t)=> {
    if(isNaN(t) || !isFinite(t)) return "0:00";
    const m = Math.floor(t/60), s = Math.floor(t%60);
    return `${m}:${s<10? "0"+s : s}`;
  };
  timeBig.textContent = `${format(c)} / ${format(d)}`;
  document.getElementById("mini-time").textContent = timeBig.textContent;
  progressFill.style.width = d ? ((c/d)*100) + "%" : "0%";
});

/* ended */
audio.addEventListener("ended", ()=>{
  if(controlsState.repeat){
    playCurrent();
  } else {
    playNext();
  }
});

/* progress seek */
progressBar.addEventListener("click", (e)=>{
  const rect = progressBar.getBoundingClientRect();
  const pct = (e.clientX - rect.left) / rect.width;
  if(audio.duration) audio.currentTime = pct * audio.duration;
});

/* play/pause toggler */
function togglePlay(){
  if(!currentAlbumKey){
    // default to radical first if nothing selected
    currentAlbumKey = "radical";
    currentIndex = 0;
    playCurrent();
    return;
  }
  if(audio.paused){
    audio.play().catch(()=>{});
    try{ bgVideo.play().catch(()=>{}); }catch(e){}
    isPlaying = true;
  } else {
    audio.pause();
    try{ bgVideo.pause(); }catch(e){}
    isPlaying = false;
  }
  updatePlayButtons();
}
function updatePlayButtons(){
  miniPlay.textContent = audio.paused ? "▶" : "⏸";
  if(playBtn) playBtn.textContent = audio.paused ? "▶" : "⏸";
}

/* keyboard shortcuts */
document.addEventListener("keydown", (e)=>{
  if(e.code === "Space"){ e.preventDefault(); togglePlay(); }
  if(e.code === "ArrowRight"){ playNext(); }
  if(e.code === "ArrowLeft"){ playPrev(); }
});

/* shuffle + repeat UI helpers (we'll reuse the mini controls area toggles) */
function toggleShuffle(){
  controlsState.shuffle = !controlsState.shuffle;
  miniNext.style.outline = controlsState.shuffle ? "2px solid rgba(255,255,255,0.12)" : "none";
}
function toggleRepeat(){
  controlsState.repeat = !controlsState.repeat;
  miniPrev.style.outline = controlsState.repeat ? "2px solid rgba(255,255,255,0.12)" : "none";
}

/* ---------- NAVIGATION: otevření stránek alb ---------- */
function openAlbum(id){
  document.getElementById("albums").style.display = "none";
  if(id === "radical"){
    document.getElementById("page-radical").classList.add("active");
    currentAlbumKey = "radical";
  } else {
    document.getElementById("page-live").classList.add("active");
    currentAlbumKey = "live";
  }
  window.scrollTo({top:0,behavior:"smooth"});
}
function closeAlbum(){
  document.getElementById("page-radical").classList.remove("active");
  document.getElementById("page-live").classList.remove("active");
  document.getElementById("albums").style.display = "grid";
}

/* ---------- UTIL ---------- */
function scrollToAlbums(){ document.getElementById("albums").scrollIntoView({behavior:"smooth"}); }
function openExternal(){ window.open("https://www.dualipa.com","_blank") }

/* ---------- INIT: attach shuffle/repeat to long-press or secondary keys ---------- */
(function attachMiniExtras(){
  // add small toggles: double-click miniNext toggles shuffle, double-click miniPrev toggles repeat
  let lastClickNext = 0;
  miniNext.addEventListener('click', ()=>{
    const t = Date.now();
    if(t - lastClickNext < 400){ toggleShuffle(); }
    lastClickNext = t;
  });
  let lastClickPrev = 0;
  miniPrev.addEventListener('click', ()=>{
    const t = Date.now();
    if(t - lastClickPrev < 400){ toggleRepeat(); }
    lastClickPrev = t;
  });
})();

/* ---------- PROTECTION (optional) ---------- */
document.addEventListener('contextmenu', event => event.preventDefault());
document.addEventListener('copy', event => event.preventDefault());

/* ---------- LONG BIO (vložené sem, delší text) ---------- */
(function injectLongBio(){
  const bioText = `
Dua Lipa — delší životopis

Dua Lipa se narodila 22. srpna 1995 v Londýně. Je dcerou albánských rodičů a vyrůstala v rodině silně orientované na hudbu. Již od mládí byla nadaná zpěvu a vystupování; ve školních letech se věnovala modelingu a později začala vystupovat v Londýně. Její první větší průlom přišel s přesunem do studia a vydáním singlů, které vedly k debutovému albu "Dua Lipa" (2017). To album obsahovalo několik celosvětových hitů, které ji pozvedly mezi přední současné popové umělce.

Druhé album "Future Nostalgia" (2020) upevnilo její status mezinárodní hvězdy: kombinace disco, moderního popu a tanečních produkcí dala vzniknout hitům jako "Don't Start Now" a "Levitating". V té době byla chválena nejen pro hudební kvality, ale i pro silný vizuální styl a choreografii, které umocnily celkový dojem z její tvorby. Její práce byla nomnována a oceněna řadou hudebních cen a přinesla jí mnoho spoluprací s dalšími významnými tvůrci.

Radical Optimism (2024) představuje další krok v jejím vývoji — album s retro-disco atmosférou, ale moderním nádechem. V textech se promítá osobní růst, vyrovnávání se se ztrátami i radostmi a nárůst sebevědomí. Zvuk je vrstevnatý, aranže často pracují s prvky orchestrace i elektroniky. Vizuálně album odkazuje na mořskou symboliku: klid, síla, vyrovnanost a hloubka emocí. Dílo mapuje období, kdy autorka pracovala intenzivně na vlastním vyzrání — nejen jako zpěvačka, ale i jako autorka a tvůrkyně vizuální identity.

Live from the Royal Albert Hall (2024) zachycuje Dua Lipu v živém prostředí, kde se její písně objevují v bohatších aranžích – s orchestrem a živou kapelou. Koncertní nahrávky ukazují, jak písně fungují i v jiném kontextu: akcentují vokální interpretaci, dynamiku a interakci s publikem. Koncerty v takových prostorách jako Royal Albert Hall často vyžadují jiný přístup k aranžím — výsledek je jednak intimní, jednak monumentální.

Osobnostně je Dua Lipa vnímána jako silná, kreativní a pečlivá umělkyně. Dává pozornost detailu — od produkce hudby přes styling až po dramaturgii koncertních show. V mnoha rozhovorech se vyjadřuje o důležitosti sebevědomí, osobního rozvoje a autenticity. Kromě hudby se angažuje v různých vizuálních projektech, módních kampaních a spolupracuje s řadou umělců a producentů.

Tento fanouškovský přehled je pouze sbírkou veřejně dostupných informací a stručným shrnutím umělecké činnosti Dua Lipy. Obsahuje tracklisty pro dvě nedávné položky v diskografii, zpracované pro lokální přehrávání (MP3/MP4) — pokud soubory nejsou ve stejné složce jako tento HTML soubor, přehrají se pouze odkazy, nikoli obsah.
  `;
  // inject bio into header meta area
  const meta = document.querySelector('.header .meta');
  const bio = document.createElement('div');
  bio.style.marginTop = "18px";
  bio.style.color = "#cfdcdc";
  bio.style.lineHeight = "1.6";
  bio.style.fontSize = "0.95rem";
  bio.innerText = bioText;
  meta.appendChild(bio);
})();

/* ---------- ensure initial state (no autoplay without interaction) ---------- */
updatePlayButtons();
</script>
</body>
</html>
